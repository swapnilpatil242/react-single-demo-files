<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello React clock!</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      class StateCallbackDemo extends React.Component {        
        constructor(props) {
        console.log("constructor....");
          super(props);
          this.state = {
            count: 0,
            constMsg: "",
          }
        }
        updateCount = (value) => {
          this.setState({ count: value }, this.checkCount);
        };

        checkCount = () => {
          const { count } = this.state;
          if (count > 9) {
            this.setState({ constMsg: "Count is greater than 9"})
          } else {
            this.setState({ constMsg: "Count is less than 10" })
          }
        };

        render() {
          console.log("render...........");
          const { count, constMsg } = this.state;
          return (
            <div>
              <p>Count : {count}</p>
              <p>Message: {constMsg}</p>
              <input type="number" onChange={e => this.updateCount(e.target.value)} />
            </div>
          );
        }
      }
      ReactDOM.render(<StateCallbackDemo  />, document.getElementById('root'));
    </script>
  </body>
</html>